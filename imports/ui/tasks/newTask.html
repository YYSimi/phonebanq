<template name="newTask">
  {{#if fHasNewTaskPermissions}}
    {{> authenticatedUserNewTask}}
  {{else}}
    <p> You need permission to access this page.  If you believe that you should have access, talk to the website maintainer to request access. </p>
  {{/if}}
</template>

<template name="authenticatedUserNewTask">
  <form>
    <div class="form-group">
      <label for="tiny-description"> Tiny description </label>
      <input class="form-control" type="text" id="tiny-description"/>
      <small id="tiny-description-help" class="form-text text-muted">No more than 100 characters please.  This will appear as the task's title.</small>
    </div>
    <div class="form-group">
      <label for="brief-description"> Brief description </label>
      <textarea class="form-control" id="brief-description" rows="3"></textarea>
      <small id="brief-description-help" class="form-text text-muted">No more than 180 characters please.  This will appear in toast notifications (e.g. on facebook).</small>
    </div>
    <div class="form-group row">
    <label for="task-priority" class="col-xs-3 col-sm-2"> Task priority </label>
      <div class="col-xs-3 col-sm-2 col-med-1">
        <select class="form-control" id="task-priority">
          <option selected disabled> </option>
          <option>1</option>
          <option>2</option>
          <option>3</option>
          <option>4</option>
          <option>5</option>
        </select>
      </div>
    <small id="task-priority-help" class="form-text text-muted col-xs-6">Higher priority tasks are given before lower priority tasks.  All tasks lose 1 priority per day to make sure that new tasks are preferred over old ones.</small>
    </div>

    <div class="form-group">
      <!-- TODO:  Shrink this.  Task types don't need to take up the whole screen width.-->
      <label for="task-type">Task type</label>
      <select class="form-control input-small" id="task-type">
        <option selected disabled> Select task type </option>
      </select>
    </div>
    <div id="task-detail">
    {{> Template.dynamic template=currentTaskDetailTemplateName}}
    </div>
    <button type="submit" class="btn btn-primary js-newTask-submit"> Submit </button>
    <button type="button" class="btn btn-info js-newTask-preview"> Preview </button>
  </form>
</template>

<template name="taskDetail">

</template>

<template name="phoneNewTaskDetail">
  <div class="form-group">
    <label for="general-script"> General script </label>
    <textarea class="form-control" id="general-script" rows="6"></textarea>
    <small id="general-script-help" class="form-text text-muted"> Fill this out if people will use the same call script when calling both supporters and opponents of this issue. </small>
  </div>
  <div class="form-group">
    <label for="supporter-script"> Supporter script </label>
    <textarea class="form-control" id="general-script" rows="6"></textarea>
    <small id="general-script-help" class="form-text text-muted"> Fill this out if people will use a specific call script when calling supporters of this issue. </small>
  </div>
  <div class="form-group">
    <label for="opposition-script"> Opposition script </label>
    <textarea class="form-control" id="opposition-script" rows="6"></textarea>
    <small id="opposition-script-help" class="form-text text-muted"> Fill this out if people will use a specific call script when calling opponents of this issue.  </small>
  </div>
  <div class="form-group row">
    <label for="call-my-national-senators" class="col-xs-3 col-sm-2"> Call user's national senators? </label>
    <div class="col-xs-3 col-sm-2 col-med-1">
      <select class="form-control" id="call-my-national-senators">
        <option selected disabled> </option>
        <option value=true>Yes</option>
        <option value=false>No</option>
      </select>
    </div>
    <label for="call-my-national-representatives" class="col-xs-3 col-sm-2"> Call user's national representatives? </label>
    <div class="col-xs-3 col-sm-2 col-med-1">
      <select class="form-control" id="call-my-national-representatives">
        <option selected disabled> </option>
        <option value=true>Yes</option>
        <option value=false>No</option>
      </select>
    </div>
  </div>
  {{#if fShouldRenderTaskPreview}}
  <label for="phone-task-preview"> Task preview: </label>
  <div class="well" id="phone-task-preview">
    {{> UserTaskDetail taskPreviewInfo}}
  </div>
  <div class="row">
    <div class="col-xs-6 col-sm-4">
    <label for="phone-toast-preview"> Notification area/toast preview: </label>
    <div class="well well-sm" id="phone-toast-preview">
      {{> toastPreview taskPreviewInfo}}
    </div>
    </div>
  </div>
  {{/if}}
</template>

<template name="toastPreview">
  <p> {{task.brief_description}} </p>
</template>