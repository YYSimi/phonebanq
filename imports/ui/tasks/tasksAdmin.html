<template name="tasksAdmin">
  {{#if currentUser}}
    {{#if fHasNewTaskPermissions}}
      {{> authenticatedTasksAdmin}}
    {{else}}
      {{> permissionsRequired}}
    {{/if}}
  {{else}}
    {{> loginRequired }}
  {{/if}}
</template>

<template name="authenticatedTasksAdmin">
  <ul class="list-group js-userTasks-list">
    {{#each taskAndDetail in getOwnedTasks}}
      <li class="list-group-item" style="border: none">
        {{> UserTask context=taskAndDetail buttonsTemplate="manageTaskButtons"}}
      </li>
    {{/each}}
  </ul>
</template>

<template name="manageTaskButtons">
  <span class="pull-right">
    <button class="btn glyphicon glyphicon-pencil js-edit-task" data-toggle="tooltip" data-placement="top" title="Edit task"></button>
    <button class="btn btn-warning js-task-disable" data-toggle="tooltip" 
    title="Disabling a task will prevent any users from being given this task in the future, but will not hide the task from users who have already received or completed it.">Disable Task</button>
  </span>
</template>
